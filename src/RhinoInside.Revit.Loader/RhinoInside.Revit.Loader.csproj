<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="17.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <ProjectGuid>{B126F51D-B440-4992-AF92-9936EA3D2B4D}</ProjectGuid>
    <OutputType>Library</OutputType>
    <RootNamespace>RhinoInside.Revit.Loader</RootNamespace>
    <AssemblyName>RhinoInside.Revit.Loader</AssemblyName>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="..\Distribution.cs" />
    <Compile Include="Loader.cs" />
  </ItemGroup>
  <ItemGroup>
    <Service Include="{508349B6-6B84-4DF5-91F0-309BEEBAD82D}" />
    <Compile Include="Properties\AssemblyInfo.cs" />
    <Compile Include="Properties\ProductInfo.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>ProductInfo.tt</DependentUpon>
    </Compile>
    <Compile Include="Properties\Resources.Designer.cs">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>Resources.resx</DependentUpon>
    </Compile>
    <EmbeddedResource Include="Properties\Resources.resx">
      <SubType>Designer</SubType>
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Resources.Designer.cs</LastGenOutput>
    </EmbeddedResource>
    <Content Include="Properties\ProductInfo.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>ProductInfo.cs</LastGenOutput>
    </Content>
    <Content Include="Properties\RhinoInside.Revit.tt">
      <Generator>TextTemplatingFileGenerator</Generator>
      <LastGenOutput>RhinoInside.Revit.addin</LastGenOutput>
    </Content>
    <None Include="Properties\RhinoInside.Revit.addin">
      <AutoGen>True</AutoGen>
      <DesignTime>True</DesignTime>
      <DependentUpon>RhinoInside.Revit.tt</DependentUpon>
    </None>
  </ItemGroup>
  <ItemGroup>
    <Folder Include="Resources\" />
  </ItemGroup>
  <Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />
  <Import Project="$(MSBuildExtensionsPath)\Microsoft\VisualStudio\v$(VisualStudioVersion)\TextTemplating\Microsoft.TextTemplating.targets" />
  <Import Project="../RevitAPI.targets" />
  <PropertyGroup>
    <TransformOnBuild>true</TransformOnBuild>
  </PropertyGroup>
  <PropertyGroup>
    <ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>None</ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>
  </PropertyGroup>
  <Target Name="AfterBuild" Condition="$(Configuration.Contains('Debug'))">
    <Copy UseHardlinksIfPossible="true" SkipUnchangedFiles="true" SourceFiles="$(ProjectDir)$(OutDir)$(TargetFileName);$(ProjectDir)$(OutDir)$(TargetName).pdb" DestinationFolder="$(RevitAddinsPath)RhinoInside.Revit\" />
    <Copy UseHardlinksIfPossible="true" SkipUnchangedFiles="true" SourceFiles="$(ProjectDir)Properties\RhinoInside.Revit.addin" DestinationFiles="$(RevitAddinsPath)$(RiRAddinFileName)" />
  </Target>
  <Target Name="BeforeClean" Condition="$(Configuration.Contains('Debug'))">
    <ItemGroup>
      <ThisProjectFiles Include="$(RevitAddinsPath)RhinoInside.Revit\$(TargetName).dll;$(RevitAddinsPath)RhinoInside.Revit\$(TargetName).pdb" />
    </ItemGroup>
    <Delete Files="$(RevitAddinsPath)$(RiRAddinFileName)" />
    <Delete Files="@(ThisProjectFiles)" />
  </Target>
</Project>
